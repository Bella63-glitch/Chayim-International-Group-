<!doctype html>
<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <title>Chayim International Group</title> 
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Segoe UI', sans-serif; background:#fff; color:#333; }
    header { background:#8B4513; color:#fff; padding:20px; text-align:center; }
    nav {
      background:#fff; border-bottom:1px solid #ddd;
      display:flex; justify-content:center; gap:20px;
      padding:10px 0;
    }
    nav a {
      color:#8B4513; text-decoration:none; font-weight:bold;
      padding:5px 10px; border-radius:4px;
    }
    nav a:hover { background:rgba(139,69,19,0.1); }
    .hero {
      background:url('https://via.placeholder.com/1200x400/8B4513/ffffff?text=Chayim+International+Group')
        center/cover no-repeat;
      height:300px; display:flex; align-items:center; justify-content:center;
      color:#fff; text-shadow:1px1px5px rgba(0,0,0,0.6);
      font-size:2em; font-weight:bold;
    }
    .container { max-width:1100px; margin:30px auto; padding:0 20px; }
    .listings {
      display:flex; overflow-x:auto; gap:20px; padding-bottom:10px;
    }
    .listings::-webkit-scrollbar { height:8px; }
    .listings::-webkit-scrollbar-thumb { background:rgba(0,0,0,0.2); border-radius:4px; }
    .property {
      flex:0 0 300px; background:#fff; border-radius:8px; overflow:hidden;
      box-shadow:0 2px 6px rgba(0,0,0,0.1); transition:transform .2s;
    }
    .property:hover { transform:translateY(-5px); }
    .property img { width:100%; height:180px; object-fit:cover; }
    .property-info { padding:15px; }
    .property-info h3 {
      font-size:1.1em; margin-bottom:10px; color:#8B4513;
    }
    .property-info p { margin-bottom:8px; font-size:.9em; }
    .property-info .btn {
      display:inline-block; margin-top:10px;
      background:#8B4513; color:#fff; text-decoration:none;
      padding:8px 12px; border-radius:4px;
      font-size:.9em;
    }
    .property-info .btn:hover { background:#a0522d; }
    footer {
      background:#8B4513; color:#fff; text-align:center;
      padding:15px; margin-top:40px;
    }
  </style> 
</head> 
<body> 

  <header> 
    <h1>Chayim International Group</h1> 
    <p>Your Trusted Partner in Property</p> 
  </header> 

  <nav>
    <a href="index.html">Home</a>
    <a href="listings.html">Property Listings</a>
    <a href="about.html">About Us</a>
  </nav>

  <section class="hero">Discover Exceptional Properties</section> 

  <div class="container">
    <h2>Featured Properties</h2>
    <div class="listings" id="propertyListings">
      Loading properties…
    </div>
  </div> 

  <footer>
    © 2025 Chayim International Group | All Rights Reserved
  </footer> 

  <script>
    const APP_ID   = "43FDF951-CA7C-4AA1-8CE5-EAEFE8AABBBB";
    const REST_KEY = "D816E27F-267C-45B1-9932-AE452537BA0E";
    const API_URL  = `https://api.backendless.com/${APP_ID}/${REST_KEY}/data/Properties`;

    async function loadProperties() {
      try {
        // get 6 most recent
        const res = await fetch(`${API_URL}?pageSize=6&sortBy=created DESC`);
        const props = await res.json();
        displayProperties(props);
      } catch (err) {
        console.error(err);
        document.getElementById("propertyListings")
          .innerText = "Failed to load properties.";
      }
    }

    function displayProperties(properties) {
      const container = document.getElementById("propertyListings");
      container.innerHTML = "";
      properties.forEach(p => {
        const card = document.createElement("div");
        card.className = "property";
        card.innerHTML = `
          <img src="${p.imageurl || 'https://via.placeholder.com/400x200'}" alt="Property">
          <div class="property-info">
            <h3>${p.title || "No Title"}</h3>
            <p>Price: Ksh ${p.price || "N/A"}</p>
            <p>Location: ${p.location || "Unknown"}</p>
            <a class="btn" href="listings.html">View All Listings</a>
          </div>
        `;
        container.appendChild(card);
      });
    }

    window.addEventListener("DOMContentLoaded", loadProperties);
  </script>
</body>
</html>
